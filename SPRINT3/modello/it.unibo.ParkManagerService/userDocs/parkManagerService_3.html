<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
<head>
   
<title>parkManagerService_3</title></head>
    
<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
 
<h2>Requirement</h2> 

<div class="remark">
	<a href="TFBO21ParkingISS.pdf">Link to the requirement√¨s file.</a>
</div>

<h2>Summary of the previous SPRINT</h2>

The <k>SPRINT 2</k> document document can be found <a href="../../../../SPRINT2/modello/it.unibo.ParkManagerService/UserDocs/parkManagerService_2_a.html">here</a>.

<h3>Logical architecture resulted from the Analysis of the <k>SPRINT 2</k></h3>
<table style="width:100%" border="1">
		<tr>
			<td rowspan="2" style="width:80%">
			 <img src="img/LogicalArchitecture_2.png" width="80%">
			<td>
				<a href="../../../../SPRINT2/modello/it.unibo.ParkManagerService/src/park_service_model_2.qak">Model SPRINT 2</a>
			</td>
			<tr>
				<td><a href="../../../../SPRINT2/modello/it.unibo.ParkManagerService/src/test/TestPlanUseCase1.kt">TestPlanUseCase1.kt</a></td>
			</tr>
		</tr>
  </table>
  
  <h3>Concrete architecture after the project Phase</h3>
  
  <img src="img\ConcreteArchitecture_2.png" width="80%">
	<br>
	<k>See here the <a href="img\legenda.png" target="img">Legenda</a>.</k>
<h2>Requirement analysis</h2>
 
 In this <k>SPRINT</k> is considered the GUI client and every remaining apsect: optional responses, what to do if the client doen't park, Tokenid. 

<h2>Problem analysis</h2>
As stated in the <k>SPRINT 0</k> this problem requires the communications of different components in a distributed environment, see <a href="../../../../SPRINT0/modello/it.unibo.ParkManagerService/userDocs/parkManagerService_0_c.html#problemanalysis">SPRINT0 | problem analysis</a>. 
   
   <h3><ks>Client GUI</h3>
   <table style="width:100%" border="1">
		<tr>
			<td style="width:50%">
			   We need a graphic interface able to:
				<ul>
					<li>Send a request to park the car.</li>
					<li>Receive and show the receipt.</li>
					<li>Press the <em>carenter</em> button to enter the parking slot.</li>
					<li>Send a request to pick-up the car.</li>
					<li>The requestout botton should be active only if it can be used in that moment.</li>
					<li><ks>Optionally</ks> a wait response if the application can't satisfy a request yet..</li>
				</ul>
				<br>
				To grant wide usability the system should be developed as a Web-application. 
				<br>
				<k>SpringBoot</k> should be used to reduce development time.
				<br>
				<br>
				The html page will incude a INPUT section and an OUTPUT section to show the responses.
			</td>
			<td>
				GUI example:
				<center><img src="img\parkserviceGui_example.png" width="40%" height="40%"></center>
			</td>
		</tr>
	</table>
   <br>
 <h3>Other relevant aspects</h3>
 <h4>Client waiting</h4>
 The requirement state that we could optionally respond to the client when the <em>INDOOR-area</em> is occupied. Another olution could be to display a wait message after the client makes the request.
 This way the client knows that the message is succesfully reached the server and has wait anyway for the response.
 
 <h4>Client press a button more than once</h4>
 To avoid this problem we can deactivate the button, so the client can't send other request. Another way is to memorize the client in a certain way, for examplo applying an autorization method.
 Considering that the web is our riferiment we can use authentication or memorizing the cookie.
 so that we avoid duplicate request from the same client. this technique would also allowa us to distinguish between the requests of different clients.
 
 
 <!-- <h4>How to distinguish different clients</h4> -->
 
 <h4>The client does a requestin but doesn't do a carenter</h4>
 We can put a time limit after a requestin, if not respected we free that slot, so that it cannot be used. 
 
 
 <h3>Logical Architecture</h3>
 
 <table style="width:100%" border="1">
		<tr>
			<td rowspan="2" style="width:80%">
			 <img src="img/LogicalArchitecture_2.png" width="80%">
			<td>
				<a href="../src/park_service_model_3.qak">Model SPRINT3</a>
			</td>
			<tr>
				<td><a href="../src/test/TestPlanUseCase1.kt">TestPlanUseCase1.kt</a></td>
			</tr>
		</tr>
  </table>
 <br>
 <br>
 See here the <a href="img\legenda.png" target="img">Legenda</a>.
 <br>
 <br>
 <h3>Expected Time</h3>
 Starting from the model, the client's graphic interface is expected to be developed in 1 day of work.
<h2>Test plans</h2> 

<h2>Project</h2> 
 
 <h3>Graphic interface</h3>

  The graphic interface was developed using <k>Springboot</k> and the <ks>mvc pattern</ks>. Note that the model of our application is composed by the <tt>parkingState</tt> and the 
  <en>entities</en>, while this model refers to the one used by the front-end.
  The springboot project that was developed in the prevoius SPRINT has been modified to give the client a new interface an maintaning the parking-manager interface separated.

	<table style="width:100%" border="1">
	<tr>
		<td style="width:50%">
			<img src="img\parkserviceGUI.png" width="100%">
		</td>
		<td>
			<ol>
				<li>The deactivation of the buttons has not yet been implemented.</li>
				<li><ks><a href="../../../progetto/parkServiceStatus/src/main/kotlin/it/unibo/parkservicestatus/HIController.kt">HIController</a></ks> is a RESTFUL controller used to interface with humans, is a class annoted with <k>@Controller</k> </li>
				<li>Use websocket with <k>STOMP</k> to exchange information between the controller and the webpage.</li>
				<li>The INPUT-section is used to do: <em>RequestIN</em>, <em>RequestOUT</em> and <em>carenter</em>.</li>
				<li>The OUTPUT-section show the system message such as wait and the <em>receipt</em>.</li>
				<li>No information about the state of the system is displayed.</li>
				<li>.</li>
			</ol>
		</td>
	</tr>
</table>

<h2>Testing</h2> 
 

<h2>Deployment</h2> 
<h3>Deployment-1a: on PC and raspberry</h3>
<table style="width:100%" border="1">
	<tr>
		<td style="width:60%">
			<center><img src="img\deployment1a.png" width="100%" height="100%"></center>
			<ol>
				<li>Launch <ks>weightsensor</ks>, <ks>thermometer</ks>, <ks>fan</ks> and <ks>ParkmanagerTrolley</ks> on <k>PC</k></li>
				<li>Test with the <a href="../pythonMocks">Mocks</a></li>
				<li>Launch <ks>basicrobot</ks> on <k>PC</k></li>
				<li>Launch <ks><ks>sonarsensor</ks></ks> on <k>RaspberryPi</k></li>
				<li>Laucnh <ks>parkmanagerstatus</ks></li>
				<li>Go to: http://localhost:8083/manager</li>
				<li>Go to: http://localhost:8083/client</li>
			</ol>
		</td>
		<td>
		
		</td>
	</tr>
</table>
 
<h2>Maintenance</h2> 
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white;overflow: auto">
By Emanuele Paci email: emanuele.paci@studio.unibo.it
<br/>
Repository: https://github.com/empaci/Paci-Emanuele-Progetto-Finale-ISS2021
<img src="img\fototessera.png" alt="foto" width="15%" height="15%" style="float:right;">
</div> 
</body>
</html>